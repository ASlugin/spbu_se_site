{% extends "base_light.html" %}
{% block title %}Редактирование темы{% endblock %}
{% block description %}Редактирование темы{% endblock %}

{% block content %}
<section class="">
    <div class="container pb-3">
    </div>
</section>

<section class="pt-6 bg-section-secondary">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="row align-items-center">
                    <div class="col">
                        <!-- Title -->
                        <h1 class="h2 mb-2">
                            Редактирование темы
                        </h1>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="row">
                    <div class="col-lg-12">
                        <!-- Form -->
                        <form method="POST" action="{{url_for('edit_user_theme', theme_id=form.theme_id)}}">
                            {{ form.csrf_token }}
                            <!-- General information -->
                            {% if form.status.data == 1 %}
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label class="form-control-label">Замечания от кафедры, требуется редактирование</label>
                                        <div class="alert alert-outline-danger" role="alert">
                                            {% if form.comment.data %} {{form.comment.data}} {% else %} Странно, тему отправили на доработку, но не указали комментарий. Так быть не должно, свяжитесь со мной для выяснения причин (телеграм @Zelenchuk) {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% elif form.status.data == 2 %}
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <div class="alert alert-outline-success" role="alert">
                                            Ваша тема подтверждена и доступна для выбора в списке актульаных тем.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endif %}

                            <div class="row">
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label class="form-control-label">Название темы</label>
                                        {{form.title(class_="form-control")}}
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label class="form-control-label">Описание</label>
                                        {{form.description(class_="form-control", data_toggle="autosize", rows="9")}}
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label class="form-control-label">Уровень темы</label>
                                        {{form.level(class_="form-control")}}
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label class="form-control-label">Консультант</label>
                                        {{form.consultant(class_="form-control", value=user.get_name(),readonly=true)}}
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <label class="form-control-label">От кого предлагается тема</label>
                                        {{form.company(class_="form-control")}}
                                    </div>
                                </div>
                            </div>

                            <!-- Buttons -->
                            <div class="row">
                                <div class="col-md-10 pt-3 text-right">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-sm btn-primary">Сохранить</button>
                                        <label class="pt-1 d-block form-control-label">Изменение темы приведет к ее повторной проверке.</label>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}